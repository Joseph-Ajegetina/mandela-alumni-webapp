<div class="container">
	<div class="header">
		<h3>Create New User</h3>
		<p class="subtitle">Add a new user to the system with appropriate permissions and status.</p>
	</div>

	<div class="form-container">
		<form
			tuiAppearance="flat"
			tuiCardLarge
			tuiForm="l"
			[formGroup]="form"
			(ngSubmit)="submit()"
		>
			<div class="form-grid">
				<!-- Personal Information -->
				<div class="form-section">
					<h4 class="section-title">Personal Information</h4>
					<div class="grid">
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>First Name</label>
								<input formControlName="firstName" tuiTextfield type="text" placeholder="Enter first name" />
							</tui-textfield>
							<tui-error formControlName="firstName" [error]="[] | tuiFieldError | async" />
						</div>
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>Last Name</label>
								<input formControlName="lastName" tuiTextfield type="text" placeholder="Enter last name" />
							</tui-textfield>
							<tui-error formControlName="lastName" [error]="[] | tuiFieldError | async" />
						</div>
					</div>

					<div class="grid">
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>Email</label>
								<input formControlName="email" tuiTextfield type="email" placeholder="Enter email address" />
							</tui-textfield>
							<tui-error formControlName="email" [error]="[] | tuiFieldError | async" />
						</div>
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>Phone Number</label>
								<input formControlName="phone" tuiTextfield type="tel" placeholder="Enter phone number" />
							</tui-textfield>
							<tui-error formControlName="phone" [error]="[] | tuiFieldError | async" />
						</div>
					</div>

					<div class="grid">
						<div class="stack">
							<tui-input-date formControlName="dob">
								Date of Birth
								<input placeholder="Select date" tuiTextfieldLegacy />
							</tui-input-date>
							<tui-error formControlName="dob" [error]="[] | tuiFieldError | async" />
						</div>
					</div>
				</div>

				<!-- Account Settings -->
				<div class="form-section">
					<h4 class="section-title">Account Settings</h4>
					<div class="grid">
						<div class="stack">
							<tui-select formControlName="role">
								User Role
								<input placeholder="Select role" tuiTextfieldLegacy />
								<tui-data-list-wrapper *tuiDataList [items]="userRoles" />
							</tui-select>
							<tui-error formControlName="role" [error]="[] | tuiFieldError | async" />
						</div>
						<div class="stack">
							<tui-select formControlName="approvalStatus">
								Approval Status
								<input placeholder="Select status" tuiTextfieldLegacy />
								<tui-data-list-wrapper *tuiDataList [items]="approvalStatuses" />
							</tui-select>
							<tui-error formControlName="approvalStatus" [error]="[] | tuiFieldError | async" />
						</div>
					</div>

					<div class="grid">
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>Password</label>
								<input formControlName="password" tuiTextfield type="password" placeholder="Enter password" />
							</tui-textfield>
							<tui-error formControlName="password" [error]="[] | tuiFieldError | async" />
						</div>
						<div class="stack">
							<tui-textfield>
								<label tuiLabel>Confirm Password</label>
								<input formControlName="confirmPassword" tuiTextfield type="password" placeholder="Confirm password" />
							</tui-textfield>
							<tui-error formControlName="confirmPassword" [error]="[] | tuiFieldError | async" />
							<tui-error
								*ngIf="form.hasError('mismatch') && (form.touched || form.dirty)"
								[error]="'Passwords do not match'"
							/>
						</div>
					</div>
				</div>
			</div>

			<div class="form-actions">
				<button
					type="button"
					appearance="outline"
					tuiButton
					(click)="cancel()"
					class="cancel-btn"
				>
					Cancel
				</button>
				<button
					[loading]="loading()"
					[disabled]="form.invalid"
					iconEnd="@tui.user-plus"
					tuiButton
					type="submit"
				>
					Create User
				</button>
			</div>
		</form>
	</div>
</div> 